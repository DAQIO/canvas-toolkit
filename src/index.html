<!DOCTYPE html>
<html>
  <head>
    <script src="bundle.js"></script>
  </head>
  <body>
    <div id="canvas" style="border:1px solid black; float:left"></div>
    <script>
      function countRedrawTest(){
        var canvas = new CanvasToolkit.Canvas({
          width: 750,
          height: 500,
          container: document.querySelector("#canvas")
        });
        var counter = new CanvasToolkit.Text({
          text: 'Count: 0'
        });
        canvas.add(counter);
        var count = 0;
        setInterval(function(){
          counter.text = 'Count: ' + (count++);
        },10);
      }

      function multipleElementsTest(){
        var canvas = new CanvasToolkit.Canvas({
          width: 750,
          height: 500,
          container: document.querySelector('#canvas')
        });
        var c1 = new CanvasToolkit.Text({
          text: 'Counter 1: 0',
          left: 10,
          top: 10
        });
        var c2 = new CanvasToolkit.Text({
          text: 'Counter 2: 0',
          left: 10,
          top: 30
        });
        canvas.add(c1);
        canvas.add(c2);
        var count1 = 0;
        var count2 = 0;
        setInterval(function(){
          c1.text = "Counter 1: " + (count1++);
        }, 100);
        setInterval(function(){
          c2.text = "Counter 2: " + (count2++);
        }, 10);
      }

      function lineTest(){
        var canvas = new CanvasToolkit.Canvas({
          width: 750,
          height: 500,
          container: document.querySelector("#canvas")
        });
        var backbone = new CanvasToolkit.Line({
          top: 50,
          left: -50,
          x1: 0,
          y1: 0,
          x2: 0,
          y2: 400,
          color: '#a7c'
        });
        canvas.add(backbone);

        var lines = [];
        for(var i = 0; i < 100; i++){
          lines.push(new CanvasToolkit.Line({
            top: 50 + 400 * Math.random(),
            left: -50,
            x1: 0,
            y1: 0,
            x2: 0,
            y2: 500
          }));
        }
        for(var i =0 ; i < lines.length; i++){
          lines[i].rotator = 0;
          canvas.add(lines[i]);
        }

        setInterval(function(){
          backbone.x1 = (backbone.x1 + 0.5) % (canvas.width + 100);
          backbone.x2 = backbone.x1;
          for(var i = 0; i < lines.length; i++){
            var line = lines[i];
            line.rotator += Math.random() * 0.02;
            line.x1 = (line.x1 + 0.5) % (canvas.width + 100);
            line.x2 = Math.cos(line.rotator) * 100 + line.x1;
            line.y2 = Math.sin(line.rotator) * 100;
          }
        }, 10);
        setInterval(function(){
          for(var i = 0; i < lines.length; i++){
            var line = lines[i];
            var red = Math.round(Math.random() * 255);
            var green = Math.round(Math.random() * 255);
            var blue = Math.round(Math.random() * 255);
            line.color = 'rgb('+red+','+green+','+blue+')';
          }
        },1000)
      }

      window.addEventListener('load', function(){
        lineTest();
      });
    </script>
  </body>
</html>
